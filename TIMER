/*
 *  ATmega pulses of different time periods
 *  http://www.electronicwings.com
 */

#include "avr/io.h"
int main ( )
{
	DDRB |= (1<<3);		/*PB3 (OC0) as output */	
	while (1)
	{
		OCR0 = 69;		
		TCCR0 = 0x39;	/* CTC, set on match, no prescaler */    
		while ((TIFR&(1<<OCF0)) == 0);  /* monitor OCF0 flag */
		TIFR = (1<<OCF0);/* Clear OCF0 by writing 1 */
		OCR0 = 99;		
		TCCR0 = 0x29;	/* CTC, clear on match, no prescaler */   
		while ((TIFR&(1<<OCF0)) == 0); 
		TIFR = (1<<OCF0);/* Clear OCF0 by writing 1 */
	}
}
